<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/css/home.css">
</head>

<body class="d-flex flex-fill justify-content-center z-0">
    <div class="container w-75 h-auto  d-flex flex-column mt-1 z-1074 ">
            <h1 class="d-flex justify-content-center pt-3 pb-3 border-bottom border-light-subtle">TODO APP</h1>
            <form action="/create_todo" class="" method="POST">
                <div class=" hover d-flex flex-column justify-content-center  pt-2 pb-4 border-bottom border-light-subtle ">                   
                    <span >DESCRIPTION</span>
            
                        <input class="form-control input-group-lg flex-grow-1 border-0  " type="text" required name="desc" placeholder="what do you need to do">
                        
              
                    
                </div>
                <div class=" d-flex pt-2 pb-4 border-bottom border-light-subtle justify-content-between">
                  <div class="hover d-flex flex-column flex-fill px-2">
                    <span>CATEGORY</span>
                    <div class="d-flex">
                      <select class="form-control flex-fill" name="category" required>
                        <option value="" disabled selected>Select your option</option>
                        <option>Personal</option>
                        <option>Work</option>
                        <option>Cleaning</option>
                        <option>Others</option>
                      </select>    
                      <i class="fa-solid fa-caret-down"></i>
                    </div>                     
                  </div>
                  <div class="hover d-flex flex-column flex-fill px-2">
                    <span>DUE DATE</span>                   
                      <input  class="form-control flex-fill" type="date" name="dateValue" placeholder="Due data dd/mm/yyyy" required>                                  
                  </div>                                               
                </div>
                <div class="d-flex justify-content-center  pt-4 pb-4 border-bottom border-light-subtle">
                  <div class="m-2">
                    <button class="buttonDesign colorGrey p-2 bg-black" id="submitButton" type="submit"><i class="fa fa-plus-square bg-black"></i></i> Add Task</button>                   
                  </div>
                  <div class="m-2">
                    <button class="buttonDesign colorRed p-2 bg-danger" id="deleteButton" type="submit"><i class="fa fa-trash-o bg-danger bg-danger"></i>
                      Delete Task</button>
                  </div>           
                                   
                </div>
            </form>

        <!-- for displaying TODO lists -->
          <div class="todolist d-flex flex-column">
              <% for(let i of todoList) { let j=0; let newIds='descids' +j; %>
                  <div class="todo_list d-flex justify-content-between   pt-2 pb-2 border-bottom border-light-subtle">
                    <div class="p-2"><input type="checkbox" name="delechack"  onclick="checkedOrNot()" uid=<%=i._id %> class="delechack" >
                    </div>
                      
                      <div class="d-flex flex-column">                       
                            <p class="date1" id=<%=i._id %> uid = <%= i._id %> class="dispdsc"><%= i.desc %>
                            </p>                                              
                            <p class="date2" id=<%=i._id + i.dueDate %> class="dueDate" ><%= i.dueDate %>
                            </p>                                               
                      </div>
                      <div class="p-2">
                          <%= i.category %>
                      </div>
                      <div class="p-2"><a class="fa-solid fa-pen-to-square" href="/editdata/?id=<%=i._id %>"></a></div>
                  </div>
                  <% j++; } %>

          </div>
    </div>

    <script src="https://kit.fontawesome.com/461ca9883f.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="/script/script.js"></script>

</body>

</html>